webpackJsonp([1],{"9M+g":function(t,e){},Jmt5:function(t,e){},NHnr:function(t,e,a){"use strict";function r(t){a("R3Zp")}function s(t){a("w9eU")}function n(t){a("hAux")}function i(t){a("siGh")}Object.defineProperty(e,"__esModule",{value:!0});var o=a("7+uW"),d=a("Zrlr"),l=a.n(d),c=a("wxAW"),u=a.n(c),p=a("M4fF"),m=a.n(p),v=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.id,r=void 0===a?null:a,s=e.name,n=void 0===s?null:s,i=e.avatar,o=void 0===i?null:i,d=e.password,c=void 0===d?null:d;l()(this,t),this.id=r,this.name=n,this.avatar=o,this.password=c}return u()(t,[{key:"initials",get:function(){return this.name.split(" ").map(function(t){return t.substr(0,1).toUpperCase()}).join("")}}]),t}(),h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.id,r=void 0===a?null:a,s=e.columns,n=void 0===s?[]:s,i=e.users,o=void 0===i?[]:i;l()(this,t),this.id=r,this.columns=n,this.users=o}return u()(t,[{key:"activeColumns",get:function(){return this.columns.filter(function(t){return!t.deleted})}}]),t}(),f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.id,r=void 0===a?null:a,s=e.title,n=void 0===s?null:s,i=e.cards,o=void 0===i?[]:i;l()(this,t),this.id=r,this.title=n,this.cards=o,this.deleted=!1}return u()(t,[{key:"searchCards",value:function(t){return t?this.cards.filter(function(e){return e.match(t)}):this.cards}}]),t}(),b=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.id,r=void 0===a?"":a,s=e.title,n=void 0===s?"":s,i=e.description,o=void 0===i?"":i,d=e.createdAt,c=void 0===d?new Date:d,u=e.labels,p=void 0===u?[]:u,m=e.users,v=void 0===m?[]:m;l()(this,t),this.id=r,this.title=n,this.description=o,this.createdAt=c,this.labels=p,this.users=v,this.checklist=[],this.deleted=!1}return u()(t,[{key:"match",value:function(t){return this.title.includes(t)||this.description.includes(t)}},{key:"toggleLabel",value:function(t){this.labels=m.a.xor(this.labels,[t])}},{key:"deleteUser",value:function(t){this.users=m.a.xor(this.users,[t])}},{key:"addUser",value:function(t){this.users.includes(t)||this.users.push(t)}}]),t}(),C=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.checked,r=e.title;l()(this,t),this.checked=a,this.title=r},g=a("u4Bf"),_=a.n(g),k={name:"EditCardModal",props:{card:{type:b,required:!1},board:{type:h,required:!0}},computed:{labels:function(){return[{key:"primary",title:"Primary"},{key:"secondary",title:"Secondary"},{key:"success",title:"Success"},{key:"danger",title:"Danger"},{key:"warning",title:"Warning"},{key:"info",title:"Info"}]}},methods:{addChecklistItem:function(){this.card.checklist.push(new C)}}},w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!==t.card?a("b-modal",{attrs:{visible:null!==t.card,"hide-header":"","hide-footer":""},on:{hidden:function(e){return t.$emit("hidden")}}},[a("div",{staticClass:"mb-3"},[a("a",{staticClass:"btn btn-outline-danger btn-sm float-right",attrs:{href:"#"},on:{click:function(e){t.card.deleted=!0}}},[t._v("Delete")]),t._v("\n        #"+t._s(t.card.id)+" Created "),a("strong",[t._v(t._s(t._f("moment")(t.card.createdAt,"DD MMM HH:mm")))])]),t._v(" "),a("form",[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.card.title,expression:"card.title"}],staticClass:"form-control",attrs:{placeholder:"Card title"},domProps:{value:t.card.title},on:{input:function(e){e.target.composing||t.$set(t.card,"title",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.card.description,expression:"card.description"}],staticClass:"form-control",attrs:{id:"exampleFormControlTextarea1",rows:"5"},domProps:{value:t.card.description},on:{input:function(e){e.target.composing||t.$set(t.card,"description",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"checklist-container"},[a("a",{staticClass:"float-right",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.addChecklistItem(e)}}},[t._v("⨁ Add")]),t._v(" "),a("h5",[t._v("Checklist")]),t._v(" "),a("table",{staticClass:"checklist-table"},t._l(t.card.checklist,function(e){return a("tr",[a("td",{staticClass:"checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"item.checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{change:function(a){var r=e.checked,s=a.target,n=!!s.checked;if(Array.isArray(r)){var i=t._i(r,null);s.checked?i<0&&t.$set(e,"checked",r.concat([null])):i>-1&&t.$set(e,"checked",r.slice(0,i).concat(r.slice(i+1)))}else t.$set(e,"checked",n)}}})]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"item.title"}],staticClass:"text-like",attrs:{placeholder:"Task description"},domProps:{value:e.title},on:{input:function(a){a.target.composing||t.$set(e,"title",a.target.value)}}})])])}),0)]),t._v(" "),a("div",{staticClass:"form-group"},[a("multiselect",{attrs:{options:t.board.users,multiple:!0,"close-on-select":!1,placeholder:"Assigned users",label:"name","track-by":"id"},model:{value:t.card.users,callback:function(e){t.$set(t.card,"users",e)},expression:"card.users"}})],1),t._v(" "),a("div",{staticClass:"btn-group",staticStyle:{width:"100%"},attrs:{role:"group","aria-label":"Basic example"}},t._l(t.labels,function(e){return a("button",{staticClass:"btn btn-sm",class:"btn-"+(t.card.labels.includes(e.key)?"":"outline-")+e.key,attrs:{type:"button"},on:{click:function(a){return t.card.toggleLabel(e.key)}}},[t._v(t._s(e.title)+"\n            ")])}),0)])]):t._e()},y=[],x={render:w,staticRenderFns:y},U=x,A=a("VU/8"),D=r,P=A(k,U,!1,D,"data-v-463fb136",null),$=P.exports,E={name:"CardComponent",props:{card:{type:b,required:!0}}},F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-labels"},t._l(t.card.labels,function(t){return a("div",{staticClass:"label",class:"btn-"+t})}),0),t._v(" "),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$emit("edit-card",t.card)}}},[t._v(t._s(t.card.title))])]),t._v(" "),a("p",{staticClass:"card-text"},[t._v("\n            "+t._s(t.card.description)+"\n        ")])]),t._v(" "),a("div",{staticClass:"card-footer"},[t._v("\n        "+t._s(t._f("moment")(t.card.createdAt,"DD MMM HH:mm"))+"\n\n        "),a("div",{staticClass:"users"},[t._l(t.card.users,function(e){return[e.avatar?a("img",{key:e.id,attrs:{src:e.avatar,title:e.name}}):a("span",{key:e.id,staticClass:"badge badge-info mr-1",attrs:{title:e.name}},[t._v("\n                    "+t._s(e.initials)+"\n                ")])]})],2)])])},T=[],I={render:F,staticRenderFns:T},N=I,M=a("VU/8"),R=s,S=M(E,N,!1,R,"data-v-9763daaa",null),q=S.exports,G={name:"BoardComponent",components:{CardComponent:q,EditCardModal:$,draggable:_.a},props:{board:{type:h,required:!0},idGenerate:{type:Function,required:!0},search:{type:String,required:!1}},data:function(){return{newTitle:null,editCard:null,addCardColumnId:null}},methods:{createCard:function(t){t.cards.push(new b({id:this.idGenerate(),title:this.newTitle})),this.newTitle=""},createColumn:function(){this.board.columns.push(new f({id:this.idGenerate(),title:""}))},deleteColumn:function(t){confirm("Are you sure?")&&(t.deleted=!0)}}},B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("draggable",{staticClass:"board",attrs:{list:t.board.columns,group:"columns",options:{draggable:".draggable-column"}}},[t._l(t.board.activeColumns,function(e){return a("div",{key:e.id,staticClass:"column-wrapper draggable-column"},[a("div",{staticClass:"column"},[a("div",{staticClass:"column-header"},[a("div",{staticClass:"input-group input-group-sm"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"column.title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.title},on:{input:function(a){a.target.composing||t.$set(e,"title",a.target.value)}}}),t._v(" "),a("div",{staticClass:"input-group-append"},[a("b-dropdown",{attrs:{size:"sm"}},[a("b-dropdown-item",{on:{click:function(a){return t.deleteColumn(e)}}},[t._v("Delete")])],1)],1)])]),t._v(" "),a("draggable",{attrs:{list:e.cards,group:"cards"}},t._l(e.searchCards(t.search),function(e){return e.deleted?t._e():a("CardComponent",{key:e.id,attrs:{card:e},on:{"edit-card":function(e){t.editCard=e}}})}),1),t._v(" "),t.addCardColumnId===e.id?a("div",{staticClass:"card card-create"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newTitle,expression:"newTitle"}],staticClass:"card-title",attrs:{placeholder:"Enter card`s title"},domProps:{value:t.newTitle},on:{keypress:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:(a.preventDefault(),t.createCard(e))},keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.addCardColumnId=null},input:function(e){e.target.composing||(t.newTitle=e.target.value)}}}),t._v(" "),a("input",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit",value:"Create"},on:{click:function(a){return t.createCard(e)}}})]):t._e(),t._v(" "),a("div",{staticClass:"column-footer"},[a("input",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button",value:"Add card"},on:{click:function(a){t.addCardColumnId=e.id}}})])],1)])}),t._v(" "),a("div",{staticClass:"column-wrapper"},[a("div",{staticClass:"column"},[a("input",{staticClass:"btn btn-block btn-sm btn-primary",attrs:{type:"button",value:"Create column"},on:{click:t.createColumn}})])])],2),t._v(" "),a("EditCardModal",{attrs:{card:t.editCard,board:t.board},on:{hidden:function(e){t.editCard=null}}})],1)},H=[],L={render:B,staticRenderFns:H},O=L,V=a("VU/8"),W=n,z=V(G,O,!1,W,"data-v-4f8ef254",null),J=z.exports,Z=1,j=function(){return++Z},K={name:"App",components:{BoardComponent:J},data:function(){return{board:new h,search:null,editUser:null}},methods:{idGenerate:function(){return j()},showAddUserForm:function(){this.editUser=new v},readImage:function(t){var e=this,a=new FileReader;a.onloadend=function(){e.editUser.avatar=a.result};var r=t.target.files[0];r?a.readAsDataURL(r):alert("Error avatar loading")},createUser:function(){this.editUser.id=j(),this.board.users.push(this.editUser),this.editUser=null}},mounted:function(){this.board.users.push(new v({id:j(),name:"Ivan Ivanov"})),this.board.users.push(new v({id:j(),name:"Pyotr Petrov"})),this.board.columns.push(new f({id:j(),title:"TODO"})),this.board.columns.push(new f({id:j(),title:"WIP"})),this.board.columns.push(new f({id:j(),title:"Done"})),this.board.columns[0].cards.push(new b({id:j(),title:"Testing card",description:"Testing description"}))}},Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("nav",{staticClass:"navbar navbar-expand-md navbar-dark bg-dark fixed-top"},[a("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("Kanban board")]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarsExampleDefault"}},[t._m(1),t._v(" "),a("div",{staticClass:"form-inline my-2 my-lg-0"},[a("ul",{staticClass:"navbar-nav mr-3"},[a("li",{staticClass:"nav-item dropdown"},[a("b-dropdown",{staticClass:"input-group-append",attrs:{size:"sm",text:"Users"}},[t._l(t.board.users,function(e){return a("b-dropdown-item",{key:e.id},[t._v("#"+t._s(e.id)+": "+t._s(e.name))])}),t._v(" "),a("b-dropdown-divider"),t._v(" "),a("b-dropdown-item",{on:{click:t.showAddUserForm}},[t._v("Add user")])],2)],1)]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control mr-sm-2",attrs:{placeholder:"Search","aria-label":"Search"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})])])]),t._v(" "),a("main",{staticClass:"container-fluid",staticStyle:{"margin-top":"60px"},attrs:{role:"main"}},[a("BoardComponent",{attrs:{board:t.board,"id-generate":t.idGenerate,search:t.search}})],1),t._v(" "),null!==t.editUser?a("b-modal",{attrs:{visible:null!==t.editUser,"hide-footer":"","hide-header":""},on:{hidden:function(e){t.editUser=null}}},[a("form",{staticClass:"px-4 py-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleDropdownFormName"}},[t._v("Name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editUser.name,expression:"editUser.name"}],staticClass:"form-control",attrs:{type:"text",id:"exampleDropdownFormName",placeholder:"Ivan Ivanov"},domProps:{value:t.editUser.name},on:{input:function(e){e.target.composing||t.$set(t.editUser,"name",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleDropdownFormAvatar"}},[t._v("Avatar")]),t._v(" "),a("input",{staticClass:"form-control",staticStyle:{width:"100%"},attrs:{type:"file",id:"exampleDropdownFormAvatar"},on:{change:function(e){return t.readImage(e)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleDropdownFormPassword1"}},[t._v("Password")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editUser.password,expression:"editUser.password"}],staticClass:"form-control",attrs:{type:"password",id:"exampleDropdownFormPassword1",placeholder:"Password"},domProps:{value:t.editUser.password},on:{input:function(e){e.target.composing||t.$set(t.editUser,"password",e.target.value)}}})]),t._v(" "),a("button",{staticClass:"btn btn-primary btn-sm btn-block mt-2",attrs:{type:"submit"},on:{click:t.createUser}},[t._v("Add user")])])]):t._e()],1)},X=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarsExampleDefault","aria-controls":"navbarsExampleDefault","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item dropdown"},[a("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"dropdown01","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Boards")]),t._v(" "),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdown01"}},[a("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Vue demo")]),t._v(" "),a("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Another")]),t._v(" "),a("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Something else here")])])])])}],Y={render:Q,staticRenderFns:X},tt=Y,et=a("VU/8"),at=i,rt=et(K,tt,!1,at,null,null),st=rt.exports,nt=a("Tqaz"),it=(a("Jmt5"),a("9M+g"),a("8AgW")),ot=a.n(it),dt=a("RUzx"),lt=a.n(dt);a("tLvy");o.default.component("multiselect",lt.a),o.default.use(ot.a),o.default.use(nt.a),o.default.config.productionTip=!1,new o.default({el:"#app",components:{App:st},template:"<App/>"})},R3Zp:function(t,e){},hAux:function(t,e){},siGh:function(t,e){},tLvy:function(t,e){},w9eU:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.5e41a490c8239fc172da.js.map